<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ”§ Ù…Ø­ÙˆÙ„ Ø£ÙˆØ§Ù…Ø± Ø¹Ø±Ø¨ÙŠ â†’ ÙƒÙˆØ¯ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ</title>
  <style>
    body { margin:0; font-family:"Cairo",sans-serif; background:#0f172a; color:#e5e7eb; }
    header { background:linear-gradient(90deg,#0ea5e9,#22c55e); padding:14px; font-weight:900; }
    .container { display:grid; grid-template-columns:1fr 400px; gap:16px; padding:16px; }
    textarea { width:100%; min-height:120px; border-radius:12px; padding:10px; background:#091021; color:#fff; }
    .btn { padding:8px 12px; border:none; border-radius:10px; font-weight:700; cursor:pointer; background:#0ea5e9; color:#000; }
    .example { background:#091021; border:1px solid #1f2937; border-radius:12px; padding:10px; margin-bottom:8px; }
    .title { font-weight:800; color:#0ea5e9; }
    pre { background:#0a1324; padding:12px; border-radius:12px; overflow:auto; max-height:50vh; }
  </style>
</head>
<body>
<header>ğŸ”§ Ù…Ø­ÙˆÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¥Ù„Ù‰ ÙƒÙˆØ¯ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ â€” Ù…ÙƒØªØ¨Ø© Ø£Ù…Ø«Ù„Ø© ÙƒØ¨ÙŠØ±Ø©</header>

<div class="container">
  <div>
    <textarea id="arabic" placeholder="Ø§ÙƒØªØ¨ Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ø«Ø§Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ"></textarea>
    <div style="margin-top:10px">
      <button class="btn" id="convert">ØªØ­ÙˆÙŠÙ„</button>
      <button class="btn" id="copy">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
    </div>
    <pre id="code">// Ø§Ù„ÙƒÙˆØ¯ Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</pre>
  </div>

  <div>
    <h3>ğŸ“š Ø£Ù…Ø«Ù„Ø© Ø¬Ø§Ù‡Ø²Ø© ÙƒØ«ÙŠØ±Ø©</h3>
    <div id="examples"></div>
  </div>
</div>

<script>
const arabicEl=document.getElementById("arabic");
const codeEl=document.getElementById("code");
const examplesEl=document.getElementById("examples");

const examples=[
  {title:"ØªØ´ØºÙŠÙ„ LED", cmd:"Ø´ØºÙ„ Ø§Ù„Ù„ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ù† 13"},
  {title:"Ø¥Ø·ÙØ§Ø¡ LED", cmd:"Ø§Ù‚ÙÙ„ Ø§Ù„Ù„ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ù† 13"},
  {title:"ÙˆÙ…ÙŠØ¶ LED", cmd:"Ø´ØºÙ„ Ø§Ù„Ù„ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ù† 13 Ù„Ù…Ø¯Ø© Ø«Ø§Ù†ÙŠØ© Ø«Ù… Ø§Ù‚ÙÙ„Ù‡"},
  {title:"Ù‚Ø±Ø§Ø¡Ø© Ø²Ø±", cmd:"Ø§Ù‚Ø±Ø£ Ø§Ù„Ø²Ø± ÙÙŠ Ø§Ù„Ø¨Ù† 7 ÙˆØ§Ø·Ø¨Ø¹ Ø­Ø§Ù„ØªÙ‡"},
  {title:"ØªØ´ØºÙŠÙ„ Ù…ÙˆØªÙˆØ±", cmd:"Ø´ØºÙ„ Ø§Ù„Ù…ÙˆØªÙˆØ± ÙÙŠ Ø§Ù„Ø¨Ù† 10 Ø¨Ø³Ø±Ø¹Ø© 200"},
  {title:"Ø¥ÙŠÙ‚Ø§Ù Ù…ÙˆØªÙˆØ±", cmd:"Ø§Ù‚ÙÙ„ Ø§Ù„Ù…ÙˆØªÙˆØ± ÙÙŠ Ø§Ù„Ø¨Ù† 10"},
  {title:"ØªØ´ØºÙŠÙ„ Ø¬Ø±Ø³", cmd:"Ø´ØºÙ„ Ø§Ù„Ø¬Ø±Ø³ ÙÙŠ Ø§Ù„Ø¨Ù† 8 Ù„Ù…Ø¯Ø© Ø«Ø§Ù†ÙŠØ©"},
  {title:"Ù‚Ø±Ø§Ø¡Ø© Ø­Ø³Ø§Ø³ ØªÙ†Ø§Ø¸Ø±ÙŠ", cmd:"Ø§Ù‚Ø±Ø£ Ø§Ù„Ø­Ø³Ø§Ø³ ÙÙŠ A0 ÙˆØ§Ø·Ø¨Ø¹ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙƒÙ„ Ù†ØµÙ Ø«Ø§Ù†ÙŠØ©"},
  {title:"ØªØ­Ø±ÙŠÙƒ Ø³ÙŠØ±ÙÙˆ", cmd:"Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ ÙÙŠ Ø§Ù„Ø¨Ù† 9 Ø¥Ù„Ù‰ Ø²Ø§ÙˆÙŠØ© 90 Ø¯Ø±Ø¬Ø©"},
  {title:"PWM LED", cmd:"Ø§Ø¶Ø¨Ø· Ø³Ø·ÙˆØ¹ Ø§Ù„Ù„ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ù† 5 Ø¥Ù„Ù‰ 128 Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… PWM"},
  {title:"Ø·Ø¨Ø§Ø¹Ø© Ø³ÙŠØ±ÙŠØ§Ù„", cmd:"Ø§Ø·Ø¨Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„: Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙŠØ§Ø³Ø±"},
  {title:"Ø´Ø§Ø´Ø© LCD", cmd:"Ø§Ø·Ø¨Ø¹ Ø¹Ù„Ù‰ Ø´Ø§Ø´Ø© LCD: Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…"},
];

examples.forEach(ex=>{
  const div=document.createElement("div");
  div.className="example";
  div.innerHTML=`<div class="title">${ex.title}</div><button class="btn">ØªØ­Ù…ÙŠÙ„</button>`;
  div.querySelector("button").onclick=()=>arabicEl.value=ex.cmd;
  examplesEl.appendChild(div);
});

// ØªØ­ÙˆÙŠÙ„ ÙØ¹Ù„ÙŠ
function parseIntent(text){
  text=text.toLowerCase();
  const intents=[];
  const pinMatch=text.match(/Ø§Ù„Ø¨Ù†\s*(\d+)/);
  const pin=pinMatch?parseInt(pinMatch[1]):13;

  if(text.includes("Ø´ØºÙ„") && text.includes("Ù„ÙŠØ¯")) intents.push(`digitalWrite(${pin}, HIGH);`);
  if(text.includes("Ø§Ù‚ÙÙ„") && text.includes("Ù„ÙŠØ¯")) intents.push(`digitalWrite(${pin}, LOW);`);
  if(text.includes("Ù…ÙˆØªÙˆØ±") && text.includes("Ø´ØºÙ„")){
    const spd=text.match(/Ø³Ø±Ø¹Ø©\s*(\d+)/);
    intents.push(`analogWrite(${pin}, ${spd?spd[1]:200});`);
  }
  if(text.includes("Ù…ÙˆØªÙˆØ±") && text.includes("Ø§Ù‚ÙÙ„")) intents.push(`digitalWrite(${pin}, LOW);`);
  if(text.includes("Ø¬Ø±Ø³")) intents.push(`digitalWrite(${pin}, HIGH); delay(1000); digitalWrite(${pin}, LOW);`);
  if(text.includes("Ø²Ø±")) intents.push(`int btn=digitalRead(${pin}); Serial.println(btn);`);
  if(text.includes("Ø³ÙŠØ±ÙÙˆ")) intents.push(`#include <Servo.h>\nServo myServo;\nmyServo.attach(${pin});\nmyServo.write(90);`);
  if(text.includes("pwm")||text.includes("Ø³Ø·ÙˆØ¹")) intents.push(`analogWrite(${pin},128);`);
  if(text.includes("Ø§Ø·Ø¨Ø¹")||text.includes("Ø³ÙŠØ±ÙŠØ§Ù„")) intents.push(`Serial.println("Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„");`);
  if(text.includes("lcd")) intents.push(`#include <LiquidCrystal.h>\nLiquidCrystal lcd(12,11,5,4,3,2);\nlcd.begin(16,2);\nlcd.print("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…");`);

  return intents;
}

document.getElementById("convert").onclick=()=>{
  const txt=arabicEl.value;
  if(!txt){codeEl.textContent="// Ø§ÙƒØªØ¨ Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ø«Ø§Ù„";return;}
  const intents=parseIntent(txt);
  let setup="void setup(){\n  pinMode(13,OUTPUT);\n  Serial.begin(9600);\n}\n";
  let loop="void loop(){\n  "+intents.join("\n  ")+"\n}";
  codeEl.textContent=setup+"\n\n"+loop;
};

document.getElementById("copy").onclick=()=>{
  navigator.clipboard.writeText(codeEl.textContent);
  alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯");
};
</script>
</body>
</html>
